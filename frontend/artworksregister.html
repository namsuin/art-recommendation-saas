<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìƒˆ ì‘í’ˆ ë“±ë¡ - Art Recommendation SaaS</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen">
    <nav class="bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <h1 class="text-xl font-bold text-gray-800">Art Recommendation SaaS</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="/dashboard" class="text-gray-700 hover:text-blue-600">ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°</a>
                </div>
            </div>
        </div>
    </nav>
    
    <div id="root" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-bold mb-6">ìƒˆ ì‘í’ˆ ë“±ë¡</h2>
            <form id="artworkForm">
                <!-- ê¸°ë³¸ ì •ë³´ -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ì‘í’ˆëª… *</label>
                        <input type="text" name="title" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ì‘ê°€ëª… *</label>
                        <input type="text" name="artist" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                </div>

                <!-- ì‘ê°€ ì†Œê°œ -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">ì‘ê°€ ì†Œê°œ</label>
                    <textarea name="artist_introduction" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" 
                              placeholder="ì‘ê°€ì˜ ê²½ë ¥, ìŠ¤íƒ€ì¼, ì² í•™ ë“±ì„ ê°„ë‹¨íˆ ì†Œê°œí•´ì£¼ì„¸ìš”"></textarea>
                </div>

                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">ì‘í’ˆ ì„¤ëª…</label>
                    <textarea name="description" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                </div>

                <!-- ì‘í’ˆ ë§í¬ -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        ğŸ”— ì‘í’ˆ ìƒì„¸ ë§í¬ (ì„ íƒì‚¬í•­)
                    </label>
                    <input type="url" name="link" placeholder="https://example.com/artwork-detail" 
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <p class="mt-1 text-sm text-gray-500">
                        ì‘í’ˆì˜ ìƒì„¸ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ë§í¬ë¥¼ ì…ë ¥í•˜ì„¸ìš”. ì´ë¯¸ì§€ ë¶„ì„ í›„ ì¶”ì²œ ì‘í’ˆ í´ë¦­ ì‹œ ì´ ë§í¬ë¡œ ì´ë™í•©ë‹ˆë‹¤.
                    </p>
                </div>

                <!-- ìƒì„¸ ì •ë³´ -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ì¹´í…Œê³ ë¦¬</label>
                        <select name="category" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="íšŒí™”">íšŒí™”</option>
                            <option value="ì¡°ê°">ì¡°ê°</option>
                            <option value="ì‚¬ì§„">ì‚¬ì§„</option>
                            <option value="ë””ì§€í„¸ì•„íŠ¸">ë””ì§€í„¸ì•„íŠ¸</option>
                            <option value="íŒí™”">íŒí™”</option>
                            <option value="ë“œë¡œì‰">ë“œë¡œì‰</option>
                            <option value="ì„¤ì¹˜ë¯¸ìˆ ">ì„¤ì¹˜ë¯¸ìˆ </option>
                            <option value="ì˜ìƒë¯¸ìˆ ">ì˜ìƒë¯¸ìˆ </option>
                            <option value="ê³µì˜ˆ">ê³µì˜ˆ</option>
                            <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ë§¤ì²´</label>
                        <select name="medium" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="ìœ í™”">ìœ í™”</option>
                            <option value="ìˆ˜ì±„í™”">ìˆ˜ì±„í™”</option>
                            <option value="ì•„í¬ë¦´">ì•„í¬ë¦´</option>
                            <option value="ê³¼ìŠˆ">ê³¼ìŠˆ</option>
                            <option value="íŒŒìŠ¤í…”">íŒŒìŠ¤í…”</option>
                            <option value="ì—°í•„">ì—°í•„</option>
                            <option value="íœ">íœ</option>
                            <option value="ëª©íƒ„">ëª©íƒ„</option>
                            <option value="ì²­ë™">ì²­ë™</option>
                            <option value="ëŒ€ë¦¬ì„">ëŒ€ë¦¬ì„</option>
                            <option value="ì„ê³ ">ì„ê³ </option>
                            <option value="ë‚˜ë¬´">ë‚˜ë¬´</option>
                            <option value="ê¸ˆì†">ê¸ˆì†</option>
                            <option value="ë””ì§€í„¸">ë””ì§€í„¸</option>
                            <option value="í˜¼í•©ë§¤ì²´">í˜¼í•©ë§¤ì²´</option>
                            <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ì œì‘ë…„ë„</label>
                        <input type="number" name="year" min="1000" max="2100" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ê°€ê²© (ì›)</label>
                        <input type="number" name="price" min="0" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                </div>

                <!-- ì‘í’ˆ í¬ê¸° -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ê°€ë¡œ (cm)</label>
                        <input type="number" name="width" min="0" step="0.1" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ì„¸ë¡œ (cm)</label>
                        <input type="number" name="height" min="0" step="0.1" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ê¹Šì´ (cm)</label>
                        <input type="number" name="depth" min="0" step="0.1" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                </div>

                <!-- ì´ë¯¸ì§€ URL ë˜ëŠ” ì—…ë¡œë“œ -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">ì‘í’ˆ ì´ë¯¸ì§€</label>
                    
                    <!-- ì´ë¯¸ì§€ URL ì…ë ¥ -->
                    <div class="mb-4">
                        <label class="block text-xs text-gray-600 mb-1">ì´ë¯¸ì§€ URL ì…ë ¥</label>
                        <input type="url" name="image_url" id="imageUrl" placeholder="https://example.com/artwork-image.jpg" 
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    
                    <div class="text-center text-gray-500 my-2">ë˜ëŠ”</div>
                    
                    <!-- ì´ë¯¸ì§€ íŒŒì¼ ì—…ë¡œë“œ -->
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
                        <input type="file" id="imageFile" name="image" accept="image/*" class="hidden">
                        <label for="imageFile" class="cursor-pointer">
                            <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                            </svg>
                            <p class="mt-2 text-sm text-gray-600">í´ë¦­í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ê±°ë‚˜ ë“œë˜ê·¸ ì•¤ ë“œë¡­</p>
                        </label>
                        <div id="imagePreview" class="mt-4"></div>
                    </div>
                </div>

                <!-- íŒë§¤ ì—¬ë¶€ -->
                <div class="mb-6">
                    <label class="flex items-center">
                        <input type="checkbox" name="is_for_sale" class="mr-2">
                        <span class="text-sm font-medium text-gray-700">íŒë§¤ ê°€ëŠ¥ ì‘í’ˆì…ë‹ˆë‹¤</span>
                    </label>
                </div>

                <!-- ë²„íŠ¼ -->
                <div class="flex justify-end space-x-4">
                    <button type="button" onclick="window.location.href='/dashboard'" class="px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                        ì·¨ì†Œ
                    </button>
                    <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                        ì‘í’ˆ ë“±ë¡
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // ì´ë¯¸ì§€ URL ë¯¸ë¦¬ë³´ê¸°
        document.getElementById('imageUrl').addEventListener('input', function(e) {
            const url = e.target.value;
            if (url) {
                document.getElementById('imagePreview').innerHTML = 
                    '<img src="' + url + '" class="max-h-40 mx-auto" onerror="this.style.display=\'none\'">';
            }
        });

        // ì´ë¯¸ì§€ íŒŒì¼ ë¯¸ë¦¬ë³´ê¸°
        document.getElementById('imageFile').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('imagePreview').innerHTML = 
                        '<img src="' + e.target.result + '" class="max-h-40 mx-auto">';
                };
                reader.readAsDataURL(file);
            }
        });

        // í¼ ì œì¶œ
        document.getElementById('artworkForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const imageFile = document.getElementById('imageFile').files[0];
            const imageUrl = document.getElementById('imageUrl').value;
            
            if (!imageFile && !imageUrl) {
                alert('ì´ë¯¸ì§€ URLì„ ì…ë ¥í•˜ê±°ë‚˜ ì´ë¯¸ì§€ íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ì—¬ê¸°ì— API í˜¸ì¶œ ì½”ë“œ ì¶”ê°€
            const artworkData = {
                title: formData.get('title'),
                artist: formData.get('artist'),
                artist_introduction: formData.get('artist_introduction'),
                description: formData.get('description'),
                link: formData.get('link'),
                category: formData.get('category'),
                medium: formData.get('medium'),
                year: formData.get('year'),
                price: formData.get('price'),
                width: formData.get('width'),
                height: formData.get('height'),
                depth: formData.get('depth'),
                image_url: imageUrl,
                image_file: imageFile,
                is_for_sale: formData.get('is_for_sale') ? true : false
            };
            
            console.log('ì‘í’ˆ ë“±ë¡ ë°ì´í„°:', artworkData);
            
            // API í˜¸ì¶œ (ì¶”í›„ êµ¬í˜„)
            try {
                // const response = await fetch('/api/artwork/register', {
                //     method: 'POST',
                //     body: formData
                // });
                
                alert('ì‘í’ˆì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
                window.location.href = '/dashboard';
            } catch (error) {
                console.error('ë“±ë¡ ì‹¤íŒ¨:', error);
                alert('ì‘í’ˆ ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            }
        });
    </script>
</body>
</html>